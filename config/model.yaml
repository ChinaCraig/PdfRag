# 模型配置文件 - 管理项目中使用的所有模型

# 全局GPU加速开关，true为启用GPU，false为使用CPU
gpu_acceleration: true

# 大语言模型配置 - 使用DeepSeek API
llm:
  type: "deepseek"
  api_url: "https://api.deepseek.com"
  api_key: "sk-27e712e3a6c64533884adc0ad040ff3b"
  model_name: "deepseek-chat"
  max_tokens: 4096
  temperature: 0.7

# 嵌入模型配置 - 768维本地模型
embedding:
  model_name: "sentence-transformers/paraphrase-multilingual-mpnet-base-v2"  # 768维多语言嵌入模型
  model_path: "models/embedding"
  dimensions: 768
  max_length: 512
  
# OCR模型配置 - 支持多引擎
ocr:
  # 默认引擎选择: paddleocr | easyocr
  default_engine: "easyocr"
  
  # 自动选择策略（暂未实现）
  auto_selection:
    enabled: false
    chinese_prefer: "paddleocr"  # 中文优先使用PaddleOCR
    english_prefer: "easyocr"    # 英文优先使用EasyOCR
  
  # PaddleOCR配置
  paddleocr:
    model_name: "paddleocr"
    model_path: "models/ocr"
    language: ["ch", "en"]  # 支持中英文
    use_angle_cls: true
    use_gpu: true  # 根据gpu_acceleration全局控制自动调整
  
  # EasyOCR配置
  easyocr:
    model_name: "easyocr"
    model_path: "models/easyocr"
    languages: ["ch_sim", "en"]  # 简体中文 + 英文
    download_enabled: true
    use_gpu: true
    
    # EasyOCR检测参数
    detection_params:
      text_threshold: 0.7    # 文字检测阈值
      low_text: 0.4          # 低置信度文字阈值
      link_threshold: 0.4    # 文字连接阈值
      width_ths: 0.7         # 文字宽度阈值
      height_ths: 0.7        # 文字高度阈值
      slope_ths: 0.1         # 文字倾斜阈值
      ycenter_ths: 0.7       # Y轴中心阈值
      mag_ratio: 1.0         # 图像放大比例
  
# 表格检测模型
table_detection:
  model_name: "table-transformer-detection"
  model_path: "models/table_detection"
  
# 图像分析模型
image_analysis:
  model_name: "blip2"
  model_path: "models/image_analysis"
  
# 图表识别模型
chart_recognition:
  model_name: "chart2text"
  model_path: "models/chart_recognition"
  
# 模型下载地址配置
model_downloads:
  embedding:
    url: "https://huggingface.co/sentence-transformers/paraphrase-multilingual-mpnet-base-v2"
  ocr:
    # PaddleOCR会自动下载模型
    auto_download: true
  table_detection:
    url: "https://huggingface.co/microsoft/table-transformer-detection"
  image_analysis:
    url: "https://huggingface.co/Salesforce/blip2-opt-2.7b"
  chart_recognition:
    url: "https://huggingface.co/chart2text/chart2text" 